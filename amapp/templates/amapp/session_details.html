{% extends 'amapp/base.html' %}
{% block title %}AMS-Session details{% endblock %}
{% block dashboard-active %}class="nav-item active"{% endblock %}
{% block content %}
    <main>
        <div class="flex-container">
            <div id="sidebar" class="collapse show">
                <div class="sidenav-item">
                    <a href="#">
                        <div class="my-4">
                            <i class="fas fa-tachometer-alt"></i>
                            <h6>Dashboard</h6>
                        </div>
                    </a>
                </div>
                <div class="sidenav-item">
                    <a href="#">
                        <div class="my-4 sidenav-active">
                            <i class="fas fa-calendar-alt"></i>
                            <h6>Sessions</h6>
                        </div>
                    </a>
                </div>
            </div>
            <div id="workspace">
                <div class="row">
                    <div class="col-6">
                        <h2>{{session.register}}</h2>
                        <h6>Register Id:&nbsp;<span class="blue">{{session.register.reg_id}}</span></h6>
                    </div>
                </div>  
                <div class="details-container">
                    <div class="session-details">
                        <p>Session Id:&nbsp;<span class="blue">{{session.session_id}}</span></p>
                        <p>Attendees:&nbsp;<span class="red">{{session.attendees.count}}</span></p>
                    </div>
                    <div class="session-details">
                        <p>Time:&nbsp;<span class="blue">{{session.start|time:"TIME_FORMAT"}}</span></p>
                        <p>Date:&nbsp;<span class="red">{{session.date|date:"SHORT_DATE_FORMAT" }}</span></p>
                    </div>
                    <button class="btn btn-primary">Download csv &nbsp;<span><i class="fas fa-download"></i></span></button>
                </div>
                <table class="table table-hover table-sm table-responsive-xs table-bordered students-table">
                    <caption>Session details and attendees</caption>
                    <thead>
                        <tr>
                            <th scope="col">s/n</th>
                            <th scope="col">Name</th>
                            <th scope="col">Mat No</th>
                            <th scope="col">Time</th>
                            <th scope="col">Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for attendee in session.attendees.all %}
                        <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            <td>{{attendee.last_name}}&nbsp{{attendee.other_names}}&nbsp{{attendee.first_name}}</td>
                            <td>{{attendee.mat_no}}</td>
                            <td>10:05 AM</td>
                            <td>{{attendee.level}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div> 
        </div> 
    </main>
{% endblock %}